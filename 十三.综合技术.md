#《Android开发艺术探索》读书笔记
#第十三章 综合技术
##13.1 使用CrashHandler来获取应用的crash信息
	
##13.2 使用multidex来解决方法数越界
	
场景：①在Android中单个dex文件能包含的最大方法数是65536，包含了AndroidFramework，依赖的jar包以及本身代码中的所有方法；<br>
		  ②有时方法数还没到65535，编译器也能正常编译，但是在低版本手机安装时异常终止；原因：dexopt是个优化程序，应用在安装时，系统会通过dexopt来优化dex文件，在优化过程中dexopt采用一个固定大小的缓冲区来存储应用中所有方法的信息，这个缓冲区就是LinearAlloc，在新版本中是8M或者16M，但是在2.2和2.3只有5M，当安装的apk的方法数比较多时，尽管他还没达到65536这个上限，但是存储空间可能超过了5M，此时dexopt就会报错，从而导致安装失败，这种情况主要在2.x的手机上出现。<br>
	解决方法：插件化机制来动态加载部分dex，通过将一个dex拆分成两个或者多个dex，是重量级的技术方案，并且兼容性问题比较多。Google在2014年提出了multidex的解决方案，使用简单；<br>
	Android5.0开始默认支持了multidex；<br>
##13.3 Android的动态加载技术
动态加载，也叫插件化技术，实现热插拔；<br>
	插件化方案需要解决的三个基础性问题：①资源访问；②Activity生命周期的管理；③ClassLoader的管理；<br>
	先明白宿主和插件的概念，宿主是指普通的apk，而插件一般是指经过处理过的dex或者apk，主流的插件化框架中多采用经过特殊处理的apk来作为插件，处理方式往往和编译以及打包环节有关，另外很多插件化框架都需要用到代理Activity的概念，插件Activity的启动大多数是借助一个代理Activity来实现的。<br>
	1 资源访问<br>
	2 Activity生命周期的管理<br>
	管理Activity的生命周期的方式有多种，介绍两种：①反射方式；②接口方式；推荐用后者；<br>
	3 插件ClassLoader的管理<br>
##13.4 反编译初步